export function log(...message) {
    return function (target, propertyKey, descriptor) {
        const originalMethod = descriptor.value;
        descriptor.value = function (...args) {
            if (this.logger && typeof this.logger.log === `function`) {
                const label = this.label ?? this.constructor.name;
                if (label)
                    this.logger.scope(label);
                this.logger.log(...message);
            }
            return originalMethod.apply(this, args);
        };
        return descriptor;
    };
}

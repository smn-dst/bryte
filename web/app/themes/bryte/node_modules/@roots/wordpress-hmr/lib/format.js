/* eslint-disable no-console */
import { select } from '@wordpress/data';
import { registerFormatType, unregisterFormatType, } from '@wordpress/rich-text';
export const isRegistered = (name) => select(`core/rich-text`)
    .getFormatTypes()
    .some(({ name: registered }) => registered === name);
export const register = ({ name, ...settings }) => {
    if (!settings) {
        console.error(`@roots/wordpress-hmr: format settings are required`, `tried to register`, name);
    }
    if (!name) {
        console.error(`@roots/wordpress-hmr: format name is required`, `tried to register`, settings);
    }
    if (!name || !settings)
        return;
    isRegistered(name) && unregister({ name });
    registerFormatType(name, { name, ...settings });
};
export const unregister = ({ name }) => {
    if (!name)
        return;
    unregisterFormatType(name);
};

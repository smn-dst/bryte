import { __decorate } from "tslib";
import { Extension } from '@roots/bud-framework/extension';
import { label } from '@roots/bud-framework/extension/decorators';
import {} from '@roots/bud-support/webpack';
/**
 * Hot module replacement plugin configuration
 */
let BudHMR = class BudHMR extends Extension {
    /**
     * {@link Extension.make}
     */
    async make(bud) {
        const webpack = await bud.module.import(`@roots/bud-support/webpack`, import.meta.url);
        return new webpack.HotModuleReplacementPlugin();
    }
    /**
     * {@link Extension.when}
     */
    when(bud) {
        if (bud.isProduction)
            return false;
        if (bud.context.hot === false)
            return false;
        return true;
    }
};
BudHMR = __decorate([
    label(`@roots/bud-extensions/webpack-hot-module-replacement-plugin`)
], BudHMR);
export default BudHMR;
